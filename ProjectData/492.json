{"nId": "612", "userId": "46", "type": "1", "title": "sql2", "content": "2.               CREATE TABLE  `Activity_log` (`log_id` int(11) NOT NULL AUTO_INCREMENT,`act_id` int(11) NOT NULL,`duration` int(11) NOT NULL,`log_timestamp` varchar(14) NOT NULL,PRIMARY KEY (`log_id`),UNIQUE KEY `log_id` (`log_id`)     );INSERT INTO `Activity_log` (`log_id`, `act_id`, `duration`, `log_timestamp`) VALUES(1, 1, 60, '20170214085000'),(2, 2, 25, '20170214095100'),(3, 3, 5, '20170214101100'),(4, 6, 90, '20170215070000'),(5, 1, 30, '20170215084000'),(6, 8, 20, '20170215101000'),(7, 1, 20, '20170215111000'),(8, 1, 20, '20170215121000'),(9, 3, 30, '20170215141000'),(10, 1, 20, '20170215151000'),(11, 1, 10, '20170215153500'),(12, 8, 20, '20170215170000');3. (a) how many minutes were you active on 2017/02/14?SELECT SUM(duration) FROM activity_log WHERE log_timestamp LIKE \"20170214%\";(b) how many minutes did you spend on walking 2017/02/5?SELECT SUM(ACL.duration) AS spend_time FROM Activity_log ACL JOIN Activity AC ON ACL.act_id = AC.act_id WHERE ACL.log_timestamp LIKE \"20170215%\" AND AC.act_name = \"walking\"; (c) how many minutes did you spend on walking 2017/02/15 before noon?SELECT SUM(ACL.duration) AS spend_time FROM Activity_log ACL JOIN Activity AC ON ACL.act_id = AC.act_id WHERE ACL.log_timestamp < \"20170215120000\" AND ACL.log_timestamp >= \"20170215000000\" AND AC.act_name = 'walking' (d) how many different kinds of activities did you do? SELECT COUNT( DISTINCT act_id ) AS total_count FROM Activity_log; (e) how many calories consumption each day?SELECT SUM(AC.act_cal) AS calories_consumption, SUBSTR(ACL.log_timestamp, 1, 8) AS date FROM Activity AC JOIN Activity_log ACL ON ACL.act_id = AC.act_id GROUP BY date;(f) what is the most exhausting activity that you did on 2017/02/15?SELECT AC.act_name FROM Activity_log ACL JOIN Activity AC ON ACL.act_id = AC.act_id WHERE ACL.log_timestamp LIKE \"20170215%\" ORDER BY AC.act_cal DESC LIMIT 0,1;", "upVote": 0, "downVote": 0, "tags": ["SQL", "substr", "distinct", "like", "where"], "favorite": false, "dateCreated": "2017-11-20 03:31:33", "dateModified": "2017-11-20 03:31:33"}